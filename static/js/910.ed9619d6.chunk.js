"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[910,554,387,846,720,160,641,604,327,249,812,537,190,735,148,748,995,508,887],{3387:function(n,t,e){e.r(t),e.d(t,{ContactEditor:function(){return p}});var r=e(9439),i=e(2791),o=e(814),a=e(5846),u=e(6508),c=e(3984),l=e(9085),d=e(7573),s=e(7720),h=e(2703),f=e(184),p=function(){var n=(0,i.useState)(""),t=(0,r.Z)(n,2),e=t[0],p=t[1],g=(0,i.useState)(""),m=(0,r.Z)(g,2),x=m[0],v=m[1],C=(0,i.useState)(null),b=(0,r.Z)(C,2),Z=b[0],j=b[1],w=(0,i.useRef)(null),y=(0,c.useContacts)(),F=y.items,k=y.editedId,I=y.setEditedId,S=y.pendingAction,A=y.addContactAsync,B=y.editContactAsync;(0,i.useEffect)((function(){return function(){I(null),j(null)}}),[I]),(0,i.useEffect)((function(){e||x||(I(null),j(null))}),[e,x,I]),(0,i.useEffect)((function(){var n,t,e=F.find((function(n){return n.id===k}));e&&(j(e),p(e.name),v(e.number),null===(n=w.current)||void 0===n||n.focus(),null===(t=w.current)||void 0===t||t.scrollIntoView())}),[k,F,I]);var L=function(n){p(""),v("")};return(0,f.jsx)(d.Block,{style:{padding:"15px"},children:(0,f.jsxs)(a.Form,{onSubmit:function(n){n.preventDefault();var t={name:(0,h.formatName)(e),number:(0,h.formatNumber)(x)};return k?function(n){(0,h.isContactsEqual)(n,Z)||B({id:k,data:n}).then((function(){I(null),L(),l.Am.success("The contact was successfully updated ")})).catch(l.Am.error)}(t):(0,h.isContactExists)(F,t)?void l.Am.error("The contact with the same name or number already exists"):function(n){A(n).then((function(){L(),l.Am.success("The contact was successfully added ")}))}(t)},children:[(0,f.jsx)(o.TextField,{ref:w,name:"name",placeholder:"name",height:"var(--field-height)",autoComplete:"off",pattern:u.fieldData.name.pattern,title:u.fieldData.name.title,icon:u.fieldData.name.icon,value:e,onChange:function(n){var t;return p(null!==(t=null===n||void 0===n?void 0:n.target.value)&&void 0!==t?t:"")},required:!0}),(0,f.jsx)(o.TextField,{name:"number",placeholder:"number",height:"var(--field-height)",type:"tel",autoComplete:"off",pattern:u.fieldData.number.pattern,title:u.fieldData.number.title,icon:u.fieldData.number.icon,value:x,onChange:function(n){var t;return v(null!==(t=null===n||void 0===n?void 0:n.target.value)&&void 0!==t?t:"")},required:!0}),(0,f.jsx)(s.SubmitBtn,{loading:/(add|edit)/i.test(S),adding:!k})]})})}},5846:function(n,t,e){e.r(t),e.d(t,{Button:function(){return l},Form:function(){return c}});var r,i,o=e(168),a=e(3820),u=e(7573),c=a.Z.form(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n"]))),l=(0,a.Z)(u.ButtonPrimary)(i||(i=(0,o.Z)(["\n  margin: 0 auto 0 auto;\n  padding: 0;\n  min-width: 80px;\n  height: 35px;\n"])))},7720:function(n,t,e){e.r(t),e.d(t,{SubmitBtn:function(){return u}});var r=e(5846),i=e(735),o=e(1148),a=e(184),u=function(n){var t=n.loading,e=void 0!==t&&t,u=n.adding,c=void 0===u||u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.IconUserPlus,{size:"20px"}),"Add"]}):"Save";return(0,a.jsx)(r.Button,{type:"submit",children:e?(0,a.jsx)(i.SpinnerLines,{width:20,strokeColor:"white"}):c})}},5554:function(n,t,e){e.r(t),e.d(t,{ContactEditor:function(){return r.ContactEditor}});var r=e(3387)},6641:function(n,t,e){e.r(t),e.d(t,{ContactList:function(){return f}});var r=e(9439),i=e(3984),o=e(2791),a=e(9085),u=e(7573),c=e(2327),l=e(8812),d=e(5604),s=e(735),h=e(184),f=function(n){var t=n.controlsHeight,e=n.rowHeight,f=(0,o.useState)(null),p=(0,r.Z)(f,2),g=p[0],m=p[1],x=(0,i.useContacts)(),v=x.filtered,C=x.deleteContactAsync,b=x.pendingAction,Z=x.setEditedId,j=function(n,t){switch(m(n),t){case"delete":return C(n).finally((function(){return m(null)}));case"edit":return Z(n);default:a.Am.warn("Action not supported")}};return v.length?(0,h.jsx)(u.Block,{maxHeight:"70vh",children:(0,h.jsx)(d.List,{children:v.map((function(n){var r=n.id,i=n.name,o=n.number,a=/delete/i.test(b)&&g===r;return(0,h.jsxs)(d.Item,{height:e,children:[(0,h.jsx)(d.Column,{children:i}),(0,h.jsx)(d.Column,{children:o}),(0,h.jsx)(d.Column,{children:a?(0,h.jsxs)(d.Processing,{children:[(0,h.jsx)(s.SpinnerLines,{width:20}),"Deleting..."]}):(0,h.jsx)(c.Controls,{items:l.controlsData,height:t,targetId:r,onClick:j})})]},r)}))})}):null}},5604:function(n,t,e){e.r(t),e.d(t,{Column:function(){return f},Item:function(){return h},List:function(){return s},Processing:function(){return p}});var r,i,o,a,u=e(168),c=e(3820),l=e(7573),d=e(2703),s=c.Z.ul(r||(r=(0,u.Z)(["\n  @media screen and (max-width: 400px) {\n    font-size: 12px;\n  }\n\n  & > li:nth-of-type(odd) {\n    background-color: #f0f0f0;\n  }\n"]))),h=c.Z.li(i||(i=(0,u.Z)(["\n  ",";\n  height: ",";\n  padding-left: 10px;\n"])),(0,l.FlexCentered)("justify-content: space-between"),(function(n){var t=n.height;return(0,d.calcCSSValue)(t)})),f=c.Z.span(o||(o=(0,u.Z)(["\n  ",";\n  flex-basis: 33.33%;\n  height: 100%;\n  text-align: center;\n"])),(0,l.FlexCentered)()),p=c.Z.div(a||(a=(0,u.Z)(["\n  ",";\n  height: 100%;\n  font-size: 11px;\n  color: rgb(0 0 0 / 0.8);\n  user-select: none;\n\n  @media screen and (min-width: 360px) {\n    font-size: 12px;\n  }\n"])),(0,l.FlexCentered)("gap: 4px"))},2327:function(n,t,e){e.r(t),e.d(t,{Controls:function(){return u}});var r=e(9439),i=e(9249),o=e(2703),a=e(184),u=function(n){var t=n.items,e=n.targetId,u=n.height,c=n.onClick;return(0,a.jsx)(i.ControlsList,{height:u,children:Object.entries(t).map((function(n){var t=(0,r.Z)(n,2),u=t[0],l=t[1];return(0,a.jsx)(i.Control,{children:(0,a.jsx)(i.ControlBtn,{type:"button",title:(0,o.cap)(u),onClick:function(){return c(e,u.toLocaleLowerCase())},children:(0,a.jsx)(l,{size:"100%"})})},u)}))})}},9249:function(n,t,e){e.r(t),e.d(t,{Control:function(){return s},ControlBtn:function(){return h},ControlsList:function(){return d}});var r,i,o,a=e(168),u=e(3820),c=e(7573),l=e(2703),d=u.Z.ul(r||(r=(0,a.Z)(["\n  ",";\n  height: ",";\n  width: 100%;\n  user-select: none;\n"])),(0,c.FlexCentered)("gap: 5px"),(function(n){var t=n.height;return(0,l.calcCSSValue)(t)||"100%"})),s=u.Z.li(i||(i=(0,a.Z)(["\n  height: 100%;\n"]))),h=(0,u.Z)(c.ButtonBase)(o||(o=(0,a.Z)(["\n  height: 100%;\n  color: #c5c5c5;\n\n  &:hover,\n  &:focus-visible {\n    color: var(--color-accent);\n  }\n"])))},8812:function(n,t,e){e.r(t),e.d(t,{controlsData:function(){return i}});var r=e(1148),i={edit:r.IconEdit,delete:r.IconDelete}},2160:function(n,t,e){e.r(t),e.d(t,{ContactList:function(){return r.ContactList}});var r=e(6641)},2190:function(n,t,e){e.r(t),e.d(t,{Filter:function(){return c}});var r=e(1148),i=e(814),o=e(3984),a=e(7573),u=e(184),c=function(){var n=(0,o.useFilter)(),t=n.filter,e=n.update;return(0,u.jsx)(a.Block,{style:{padding:"10px"},children:(0,u.jsx)(i.TextField,{icon:r.IconFilter,height:"var(--field-height)",name:"filter",placeholder:"Filter",autoComplete:"off",onChange:function(n){var t;return e(null!==(t=null===n||void 0===n?void 0:n.target.value)&&void 0!==t?t:"")},value:t})})}},7537:function(n,t,e){e.r(t),e.d(t,{Filter:function(){return r.Filter}});var r=e(2190)},735:function(n,t,e){e.r(t),e.d(t,{SpinnerLines:function(){return c}});var r=e(1413),i=e(4925),o=e(6286),a=e(184),u=["width"],c=function(n){var t=n.width,e=void 0===t?40:t,c=(0,i.Z)(n,u);return(0,a.jsx)(o.s5,(0,r.Z)({strokeColor:"black",strokeWidth:"3",animationDuration:"0.75",width:e,visible:!0},c))}},1748:function(n,t,e){e.r(t),e.d(t,{TextField:function(){return d}});var r=e(1413),i=e(4925),o=e(2791),a=e(1148),u=e(2995),c=e(184),l=["value","icon","type","onChange","height","width"],d=(0,o.forwardRef)((function(n,t){var e=n.value,o=n.icon,d=n.type,s=n.onChange,h=n.height,f=n.width,p=(0,i.Z)(n,l);return(0,c.jsx)(u.Field,{height:h,width:f,children:(0,c.jsxs)(u.InputWrapper,{children:[(0,c.jsx)(u.Input,(0,r.Z)({ref:t,type:d||"text",onChange:s,value:e},p)),o&&(0,c.jsx)(u.IconWrapper,{children:"function"===typeof o?(0,c.jsx)(o,{size:"100%"}):o}),e&&(0,c.jsx)(u.ClearBtn,{type:"button",onClick:function(){return s(null)},children:(0,c.jsx)(a.IconClose,{size:"100%"})})]})})}))},2995:function(n,t,e){e.r(t),e.d(t,{ClearBtn:function(){return p},Field:function(){return s},IconWrapper:function(){return g},Input:function(){return f},InputWrapper:function(){return h}});var r,i,o,a,u,c=e(168),l=e(3820),d=e(7573),s=l.Z.label(r||(r=(0,c.Z)(["\n  width: ",";\n  height: ",";\n"])),(function(n){return n.width||"100%"}),(function(n){return n.height||"100%"})),h=l.Z.div(i||(i=(0,c.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: ",";\n  color: var(--color-text);\n"])),(function(n){return n.height||"100%"})),f=l.Z.input(o||(o=(0,c.Z)(["\n  height: 100%;\n  width: 100%;\n\n  padding: 0;\n  padding-right: ",";\n  padding-left: ",";\n\n  font-family: inherit;\n  font-size: inherit;\n  background-color: white;\n\n  border-radius: var(--border-radius);\n  border: 1px solid var(--color-border);\n  outline: none;\n\n  ",";\n\n  &::placeholder {\n    opacity: 0.5;\n    text-transform: capitalize;\n  }\n\n  &:focus-visible {\n    background-color: var(--color-accent-lighter);\n    box-shadow: 0 0 0 0.25rem rgb(var(--color-blue-rgb), 0.2);\n    border-color: rgb(var(--color-blue-rgb), 0.6);\n  }\n"])),(function(n){return n.paddingRight||"30px"}),(function(n){return n.paddingLeft||"35px"}),(0,d.TransitionBase)("box-shadow border-color ackground-colo")),p=(0,l.Z)(d.ButtonBase)(a||(a=(0,c.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 5px;\n\n  height: 80%;\n  padding: 3px;\n\n  color: gray;\n  transform: translateY(-50%);\n  transition-property: color;\n\n  &:focus-visible,\n  &:hover {\n    color: var(--color-black);\n  }\n"]))),g=l.Z.span(u||(u=(0,c.Z)(["\n  ",";\n\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  height: 60%;\n\n  color: currentColor;\n  transform: translateY(-50%);\n"])),(0,d.FlexCentered)())},814:function(n,t,e){e.r(t),e.d(t,{TextField:function(){return r.TextField}});var r=e(1748)},6508:function(n,t,e){e.r(t),e.d(t,{fieldData:function(){return i}});var r=e(1148),i={name:{title:"First and last name(optional) must contain only letters and be at least 2 characters long",pattern:"^\\s*[A-Z\u0410-\u042f\\u0406\u0407\u0404a-z\u0430-\u044f\u0456\u0457\u0454]{2,}(\\s+[A-Z\u0410-\u042f\\u0406\u0407\u0404a-z\u0430-\u044f\u0456\u0457\u0454]{2,})?\\s*$",icon:r.IconUser},number:{title:"The number must be 10 digits long and may contain spaces and hyphens",pattern:"^([\\s-]*\\d[\\s-]*){10}$",icon:r.IconPhone}}},2910:function(n,t,e){e.r(t);var r=e(9085),i=e(1887),o=e(5554),a=e(2160),u=e(7537),c=e(735),l=e(7587),d=e(184),s=function(n){var t=n.message;r.Am.error(t)};t.default=function(){var n=(0,l.useFetchedContacts)(),t=n.items,e=n.pendingAction,r=n.error;return(0,d.jsxs)(i.Container,{children:[(0,d.jsx)(s,{message:r}),(0,d.jsx)(i.Title,{children:"Your contacts"}),(0,d.jsx)(o.ContactEditor,{}),t.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Filter,{}),(0,d.jsx)(a.ContactList,{rowHeight:40,controlsHeight:"60%"})]}),0===t.length&&(/fetchAll/i.test(e)?(0,d.jsx)(c.SpinnerLines,{}):"There are no contacts in the phone book yet")]})}},1887:function(n,t,e){e.r(t),e.d(t,{Container:function(){return c},Title:function(){return l}});var r,i,o=e(168),a=e(3820),u=e(2703),c=a.Z.div(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 15px;\n\n  margin: 0 auto 0 auto;\n  padding: 10px;\n\n  width: ",";\n  min-width: 250px;\n\n  @media screen and (min-width: 1200px) {\n    width: 70%;\n  }\n"])),(function(n){var t=n.width;return(0,u.calcCSSValue)(t)||"100%"})),l=a.Z.h2(i||(i=(0,o.Z)(["\n  letter-spacing: -0.1px;\n"])))}}]);
//# sourceMappingURL=910.ed9619d6.chunk.js.map