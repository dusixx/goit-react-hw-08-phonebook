{"version":3,"file":"static/js/881.843bcb71.chunk.js","mappings":"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","sources":["components/LoginForm/LoginForm.jsx","components/LoginForm/LoginForm.styled.jsx","components/LoginForm/ShowPassword/ShowPassword.jsx","components/LoginForm/ShowPassword/ShowPassword.styled.jsx","components/etc/SpinnerLines/SpinnerLines.jsx","components/etc/TextField/TextField.jsx","components/etc/TextField/TextField.styled.jsx","data/fieldData.js"],"sourcesContent":["import { useState } from 'react';\nimport { fieldData } from 'data/fieldData';\nimport { IconEmail } from 'styles/icons';\nimport { useAuth } from 'redux/hooks';\nimport { formatName } from 'utils';\nimport { toast } from 'react-toastify';\nimport { SpinnerLines } from 'components/etc/SpinnerLines/SpinnerLines';\nimport { ShowPassword } from './ShowPassword/ShowPassword';\n\nimport {\n  Form,\n  FormField,\n  Button,\n  FormTitle,\n  PasswordField,\n} from './LoginForm.styled';\n\nconst FORM_TITLE_LOGIN = 'Login to your account';\nconst FORM_TITLE_SIGNUP = 'Create your account';\nconst BTN_CAPTION_LOGIN = 'Log In';\nconst BTN_CAPTION_SIGNUP = 'Sign Up';\nconst SIGNUP_FAILED =\n  'Invalid email or a user with the same one already exists';\nconst LOGIN_FAILED = 'Invalid email or password';\n\n//\n// LoginForm\n//\n\nconst LoginForm = ({ signup = false }) => {\n  const { loginAsync, signupAsync, pendingAction } = useAuth();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n\n  const resetForm = e => {\n    setName('');\n    setEmail('');\n    setPassword('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const action = signup ? signupAsync : loginAsync;\n\n    const formData = {\n      name: formatName(name),\n      email: email.trim(),\n      password: password.trim(),\n    };\n\n    action(formData)\n      .then(({ user }) => {\n        toast.success(`Welcome, ${user.name}`);\n        resetForm();\n      })\n      .catch(() => toast.error(signup ? SIGNUP_FAILED : LOGIN_FAILED));\n  };\n\n  // в режиме login не показываем лишнего\n  const passwordProps = signup\n    ? {\n        minLength: 7,\n        maxLength: 20,\n        pattern: fieldData.password.pattern,\n      }\n    : {};\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <FormTitle>{signup ? FORM_TITLE_SIGNUP : FORM_TITLE_LOGIN}</FormTitle>\n\n      {signup && (\n        <FormField\n          name=\"name\"\n          placeholder=\"name\"\n          autoComplete=\"off\"\n          pattern={fieldData.name.pattern}\n          title={fieldData.name.title}\n          icon={fieldData.name.icon}\n          value={name}\n          maxLength={35}\n          onChange={e => setName(e?.target.value ?? '')}\n          required\n        />\n      )}\n\n      <FormField\n        placeholder=\"email\"\n        type=\"email\"\n        autoComplete=\"off\"\n        icon={IconEmail}\n        value={email}\n        onChange={e => setEmail(e?.target.value ?? '')}\n        required\n      />\n\n      <PasswordField>\n        <FormField\n          {...passwordProps}\n          placeholder=\"password\"\n          type={showPassword ? 'text' : 'password'}\n          autoComplete=\"off\"\n          icon={fieldData.password.icon}\n          title={fieldData.password.title}\n          value={password}\n          onChange={e => setPassword(e?.target.value ?? '')}\n          required\n        />\n\n        <ShowPassword\n          onClick={() => setShowPassword(cur => !cur)}\n          show={showPassword}\n        />\n      </PasswordField>\n\n      <Button>\n        {pendingAction && <SpinnerLines width={20} strokeColor=\"white\" />}\n        {!pendingAction && (signup ? BTN_CAPTION_SIGNUP : BTN_CAPTION_LOGIN)}\n      </Button>\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import styled from '@emotion/styled';\nimport { TextField } from 'components/etc/TextField';\nimport { ButtonPrimary } from 'styles/shared';\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n\n  width: 90%;\n  margin: 0 auto;\n  padding: 15px 20px;\n\n  background-color: white;\n  box-shadow: var(--box-shadow);\n  border-radius: var(--border-radius);\n  overflow: auto;\n\n  @media screen and (min-width: 768px) {\n    width: 400px;\n  }\n`;\n\nexport const FormTitle = styled.h2`\n  letter-spacing: -0.1px;\n`;\n\nexport const FormField = styled(TextField)`\n  height: var(--field-height);\n  padding-left: 40px;\n`;\n\nexport const Button = styled(ButtonPrimary)`\n  min-width: 100px;\n  height: 35px;\n`;\n\nexport const PasswordField = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 100%;\n`;\n","import { IconEye, IconEyeOff } from 'styles/icons';\nimport { Checkbox } from './ShowPassword.styled';\n\nexport const ShowPassword = ({ onClick, show }) => (\n  <Checkbox>\n    {show ? <IconEye size={15} /> : <IconEyeOff size={15} />}\n    <input type=\"checkbox\" onClick={onClick} />\n    <span>{show ? 'Hide' : 'Show'}</span> password\n  </Checkbox>\n);\n","import styled from '@emotion/styled';\n\nexport const Checkbox = styled.label`\n  display: flex;\n  align-items: center;\n  gap: 2px;\n\n  padding-left: 10px;\n  font-size: 12px;\n  line-height: 0;\n\n  cursor: pointer;\n  user-select: none;\n\n  & input {\n    appearance: unset;\n  }\n`;\n","import { RotatingLines } from 'react-loader-spinner';\n\nexport const SpinnerLines = ({ width = 40, ...restProps }) => (\n  <RotatingLines\n    strokeColor=\"black\"\n    strokeWidth=\"3\"\n    animationDuration=\"0.75\"\n    width={width}\n    visible={true}\n    {...restProps}\n  />\n);\n","import { forwardRef } from 'react';\nimport { func, string, number, oneOfType } from 'prop-types';\nimport { IconClose } from 'styles/icons';\n\nimport {\n  ClearBtn,\n  InputWrapper,\n  Input,\n  Field,\n  IconWrapper,\n} from './TextField.styled';\n\nexport const TextField = forwardRef(\n  (\n    { value, icon: Icon, type, onChange, height, width, ...restProps },\n    ref /* !! after props */\n  ) => {\n    return (\n      <Field height={height} width={width}>\n        <InputWrapper>\n          <Input\n            ref={ref}\n            type={type || 'text'}\n            onChange={onChange}\n            value={value}\n            {...restProps}\n          />\n\n          {Icon && (\n            <IconWrapper>\n              {typeof Icon === 'function' ? (\n                <Icon size=\"95%\" />\n              ) : (\n                // jsx element (ex. icon={<SomeIcon size={10} />})\n                Icon\n              )}\n            </IconWrapper>\n          )}\n\n          {value && (\n            <ClearBtn type=\"button\" onClick={() => onChange(null)}>\n              <IconClose size=\"90%\" />\n            </ClearBtn>\n          )}\n        </InputWrapper>\n      </Field>\n    );\n  }\n);\n\nTextField.propTypes = {\n  value: string,\n  type: string,\n  onChange: func,\n  width: oneOfType([string, number]),\n  height: oneOfType([string, number]),\n};\n","import styled from '@emotion/styled';\nimport { ButtonBase, FlexCentered, TransitionBase } from 'styles/shared';\n\nexport const Field = styled.label`\n  width: ${({ width }) => width || '100%'};\n  height: ${({ height }) => height || '100%'};\n`;\n\nexport const InputWrapper = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: ${({ height }) => height || '100%'};\n  color: var(--color-text);\n`;\n\nexport const Input = styled.input`\n  height: 100%;\n  width: 100%;\n\n  padding: 0;\n  padding-right: ${({ paddingRight }) => paddingRight || '30px'};\n  padding-left: ${({ paddingLeft }) => paddingLeft || '35px'};\n\n  font-family: inherit;\n  font-size: inherit;\n  background-color: white;\n\n  border-radius: var(--border-radius);\n  border: 1px solid var(--color-border);\n  outline: none;\n\n  ${TransitionBase('box-shadow border-color ackground-colo')};\n\n  &::placeholder {\n    opacity: 0.5;\n    text-transform: capitalize;\n  }\n\n  &:focus-visible {\n    background-color: var(--color-accent-lighter);\n    box-shadow: 0 0 0 0.25rem rgb(var(--color-blue-rgb), 0.2);\n    border-color: rgb(var(--color-blue-rgb), 0.6);\n  }\n`;\n\nexport const ClearBtn = styled(ButtonBase)`\n  position: absolute;\n  top: 50%;\n  right: 5px;\n\n  height: 80%;\n  padding: 3px;\n\n  color: gray;\n  transform: translateY(-50%);\n  transition-property: color;\n\n  &:focus-visible,\n  &:hover {\n    color: var(--color-black);\n  }\n`;\n\nexport const IconWrapper = styled.span`\n  ${FlexCentered()};\n\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  height: 60%;\n\n  color: currentColor;\n  transform: translateY(-50%);\n`;\n","import { IconPhone, IconUser, IconLock } from 'styles/icons';\n\nexport const fieldData = {\n  name: {\n    title:\n      'First and last name(optional) must contain only letters and be at least 2 characters long',\n    pattern:\n      '^\\\\s*[A-ZА-Я\\\\u0406ЇЄa-zа-яіїє]{2,}(\\\\s+[A-ZА-Я\\\\u0406ЇЄa-zа-яіїє]{2,})?\\\\s*$',\n    icon: IconUser,\n  },\n\n  number: {\n    title: 'Must be 10 digits long and may contain spaces and hyphens',\n    pattern: '^([\\\\s-]*\\\\d[\\\\s-]*){10}$',\n    icon: IconPhone,\n  },\n\n  password: {\n    title: 'Must be at least 7 characters long',\n    pattern: '^.{7,}$',\n    icon: IconLock,\n  },\n};\n"],"names":["signup","useAuth","loginAsync","signupAsync","pendingAction","useState","name","setName","email","setEmail","password","setPassword","showPassword","setShowPassword","passwordProps","minLength","maxLength","pattern","fieldData","Form","onSubmit","e","preventDefault","formatName","trim","then","user","toast","catch","FormTitle","FormField","placeholder","autoComplete","title","icon","value","onChange","target","required","type","IconEmail","PasswordField","ShowPassword","onClick","cur","show","Button","SpinnerLines","width","strokeColor","styled","TextField","ButtonPrimary","Checkbox","IconEye","size","IconEyeOff","restProps","strokeWidth","animationDuration","visible","forwardRef","ref","Icon","height","Field","InputWrapper","Input","IconWrapper","ClearBtn","IconClose","paddingRight","paddingLeft","TransitionBase","ButtonBase","FlexCentered","IconUser","number","IconPhone","IconLock"],"sourceRoot":""}